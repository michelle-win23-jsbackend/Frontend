@using Microsoft.AspNetCore.Identity
@using Frontend.Data
@inject SignInManager<ApplicationUser> SignInManager
@inject NavigationManager NavigationManager

@inject SignInManager<ApplicationUser> SignInManager

@rendermode InteractiveServer

<nav class="menu-buttons">
    <NavLink href="/account/details" class="btn-theme btn-menu" Match="NavLinkMatch.All"><i class="fa-regular fa-gear"></i>Account Details</NavLink>
    <NavLink class="btn-theme btn-menu"><i class="fa-regular fa-lock"></i>Security</NavLink>
    <NavLink class="btn-theme btn-menu"><i class="fa-regular fa-bookmark"></i>Saved Courses</NavLink>
    <NavLink href="#" @onclick="HandleSignOut" class="btn-theme btn-menu"><i class="fa-solid fa-arrow-right-from-bracket fa-flip-horizontal"></i>Sign Out</NavLink>
</nav>

@code {

    [CascadingParameter]
    private HttpContext? HttpContext { get; set; }

    private async Task HandleSignOut()
    {
        await SignInManager.SignOutAsync();
        NavigationManager.NavigateTo("/");
    }

}
